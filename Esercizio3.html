<!DOCTYPE html>
<html>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/8eb06f21f9.js" crossorigin="anonymous"></script>
    <style>
        [v-cloak]
        {
            display:none;
        }
    </style>
        <title>
            Esercizio 3
        </title>
        <!--applicazione che mostra le cose da fare, permette di aggiungerle e modificarle-->
    </head>
    <body class="bg-dark clearfix">
        <div id="app" class="container text-white" v-cloak>
            <h1 class="my-5">Lista delle cose da fare </h1>
            <div class="m-2 rounded p-1" v-for="(oggetto,i) in lista" :key="i"><span  class="mx-2" @Click="chiudi(i)">&#x2715</span>{{oggetto}}<i  @Click="edit_add(i)" class="fa-solid fa-pen mx-3"></i></div>
            
            <br>
            <div class="my-3 mx-2">
            <input type="text-area" v-model="testo" >
            <br>
            <button v-if="!modifica" @Click="aggiungi" class="btn btn-light my-3 ">Aggiungi alla lista </button>
            <button v-if="modifica" @Click="edit(i)" class="btn btn-light my-3 ">Modifica</button>
            </div>
        </div>
    </body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/vue@3"></script>
    <script>
        let app=Vue.createApp({
            data:function()
            {
                return{
                    lista:["Preparare lasagne","Dormire","Ritirare il libro"],
                    testo:"",
                    modifica:false,
                    indiceModifica:0

            }
            },
            methods:
            {
                chiudi(key){
                    this.lista.splice(key,1)
                },
                edit_add(key)
                {
                    this.modifica=true
                    this.testo=this.lista[key]
                    this.indiceModifica=key
                },
                aggiungi()
                {
                    this.lista.push(this.testo)
                    this.testo="";
                },
                edit()
                {
                    this.lista.splice(this.indiceModifica,1,this.testo)
                    this.modifica=false
                    this.testo=""
                }

            }    
        })
        app.mount("#app")
    </script>
</html>